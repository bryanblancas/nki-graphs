define(["../../utils/utils"],(function(t){const e="nki-graphs-templates",r={MAX_NUMBER_OF_TEMPLATES:40,ON_MAX_TEXT:"Máximo número de gráficos alcanzado (40)."},a=()=>{const t=localStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(t){return console.error("Failed to parse JSON from localStorage:",t),null}};return{getChartTemplates:a,saveChartTemplate:t=>{try{const o=a()||[];if(o.length>=r.MAX_NUMBER_OF_TEMPLATES)return r.ON_MAX_TEXT;const n=o.findIndex((e=>e.name===t.name));-1!==n?o[n]=t:o.push(t);const s=JSON.stringify(o);return localStorage.setItem(e,s),!0}catch(t){return console.error("Failed to serialize or save to localStorage:",t),"Hubo un error al momento de guardar el gráfico."}},saveChartTemplates:t=>{try{const r=JSON.stringify(t);return localStorage.setItem(e,r),!0}catch(t){return console.error("Failed to serialize or save to localStorage:",t),!1}},MINI_GRAPH_PREVIEW_PROPERTIES:{getCoordinateSystem:t=>t?.chartData?.graphSettings?.chartType??"cartesian",getYMax:t=>t?.chartData?.graphSettings?.maxY,getStep:t=>t?.chartData?.graphSettings?.stepY,getOrientation:t=>t?.chartData?.graphSettings?.chartOrientation,getChartData:e=>(e?.chartData?.categories??[]).map((e=>t.getDataItemForChart(e))),getReferenceObjects:e=>{const r=e?.chartData?.graphSettings?.referenceAreas??[];return t.getReferenceObjects(r)}}}}));